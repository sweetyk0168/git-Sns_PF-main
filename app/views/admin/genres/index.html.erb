<!-- ジャンル一覧・新規登録画面 -->
<div><%= flash[:notice] %></div>
<div class="container">
  <div class="row no-gutters">
    <div class="col-md-20 col-sm-30 mx-10 mx-sm-auto">
      <div class="bg-light py-5 px-5">
        <h3 class="p-1 mb-0">■ジャンル一覧・追加</h3>
          <% if @genre.errors.any? %>
            <%= @genre.errors.count %>errors occurred
              <ul>
                <% @genre.errors.full_messages.each do |message| %>
                  <li><%= message %></li>
                <% end %>
              </ul>
          <% end %>
          <%= form_with model:@genre, url: admin_genres_path, method: :post do |f| %>
            <div class="my-3">
              <%= f.label:■ジャンル名 %>
              <%= f.text_field :name, class:"form-control" %>
            </div>
            <div class="my-3">
              <%= f.submit '新規登録', class:"btn btn-success" %>
            </div>
          <% end %>

          <table class="table table-bordered">
            <thead class="table-dark">
              <tr>
                <th>ID</th>
                <th>ジャンル</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <% @genres.each do |genre| %>
                <tr>
                  <td><%= genre.id %></td>
                  <td><%= genre.name %></td>
                  <td><%= link_to "編集する", edit_admin_genre_path(genre.id) , class:"btn btn-success" %></td>
                </tr>
              <% end %>
            </tbody>
          </table>
      </div>
    </div>
  </div>
</div>
